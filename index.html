<!doctype html>
<html>

<head>
  <title>D3 Tutorial</title>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>


</head>

<body>



<div id="poll">
<h3>Do you like PHP and AJAX so far?</h3>
<form>
Yes:
<input type="radio" name="vote" value="0" onclick="getVote(this.value)">
<br>No:
<input type="radio" name="vote" value="1" onclick="getVote(this.value)">
</form>
</div>
<iframe width="800" height="600" src="https://app.powerbi.com/view?r=eyJrIjoiODc4YmI3NDgtMzEzNS00ZmViLWIxYzktOTk3YWJlMzI1ZjNlIiwidCI6IjM1NGM1OWJhLWVkNjgtNGExMC1hZGQxLWZmODU1MDllNTMzOCIsImMiOjl9" frameborder="0" allowFullScreen="true"></iframe>
<script>
function getVote(int) {
console.log(int);
  if (window.XMLHttpRequest) {
    // code for IE7+, Firefox, Chrome, Opera, Safari
    xmlhttp=new XMLHttpRequest();
  } else {  // code for IE6, IE5
    xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
  xmlhttp.onreadystatechange=function() {
    if (xmlhttp.readyState==4 && xmlhttp.status==200) {
      document.getElementById("poll").innerHTML=xmlhttp.responseText;
    }
  }
  xmlhttp.open("GET","poll_vote.php?vote="+int,true);
  xmlhttp.send();
}
</script>

<script>



   var dataArray = [20, 40, 30,60];
   width = 50;
   height = 50;

   var widthScale = d3.scale.linear() 
                     .domain([0, 60])
                     .range([0, width]);

   var color = d3.scale.linear()
               .domain([0, 60])
               .range(["red", "black"]);

   var axis = d3.svg.axis().ticks(5).scale(widthScale);

   var canvas = d3.select("body").append("svg").attr("width",width).attr("height",height).append("g").attr("transform", "translate(20,0)");

   
   canvas.append("g").attr("transform", "translate(0,400)").call(axis);

   var bar = canvas.selectAll("rect")
              .data(dataArray)
              .enter()
                .append("rect")
                .attr("width", function(d) {return widthScale(d);})
                .attr("height", 50)
                .attr("fill", function(d) {return color(d) })
                .attr("y", function(d, i) {return i * 100});


console.log(d3);
    </script>
    <footer><p>Posted by: keskiny</p><a href="">Sayfam</a></footer>
</body>
</html>